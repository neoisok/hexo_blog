---
title: git æ“ä½œè¯¦è§£
date: 2025-03-27 16:52:33
categories:
    - æŠ€æœ¯
    - tools
tags: git
---
# gitæ¸…é™¤ç¼“å­˜

ä½ é‡åˆ°çš„è¿™ä¸ªé—®é¢˜ï¼Œæ˜¯ç”±äºä¹‹å‰**åµŒå¥—äº† git ä»“åº“**ï¼Œåˆ é™¤äº† `themes/butterfly/.git` åï¼Œåˆæ‰§è¡Œäº†ï¼š

```plain
git add themes/butterfly
git commit -m "æ·»åŠ  Butterfly ä¸»é¢˜ï¼ˆéå­æ¨¡å—ï¼‰"
```

æ­¤æ—¶ä½ çš„æœ¬åœ°ä»“åº“æ­£å¸¸äº†ï¼Œä½†åœ¨ GitHub ä¸Šä»æ˜¾ç¤º Butterfly æ–‡ä»¶å¤¹ä¸ºç©ºï¼Œè¿™æ˜¯å› ä¸ºï¼š

- Git å¯¹åµŒå¥—ä»“åº“åªä¿å­˜äº†ä¸€ä¸ªæŒ‡é’ˆï¼ˆå­æ¨¡å—é“¾æ¥ï¼‰ã€‚
- å½“ä½ åˆ é™¤ `.git` æ–‡ä»¶å¤¹åï¼Œå®é™…ä¸Šå†…å®¹**å¹¶æœªçœŸæ­£æäº¤**åˆ°è¿œç¨‹ä»“åº“ï¼ŒGit ä»ç„¶åªè®°å½•äº†ä¸»é¢˜æ–‡ä»¶å¤¹çš„å¼•ç”¨ã€‚

**å‡ºç°å¥‡æ€ªé—®é¢˜ä¹‹å**

- å½»åº•ä» git çš„ç¼“å­˜ä¸­ç§»é™¤æ—§å¼•ç”¨ã€‚
- ç„¶åé‡æ–°æ‰§è¡Œ `git add` å’Œ `git commit` æäº¤æ‰€æœ‰æ–‡ä»¶ã€‚

```plain
git rm --cached themes/butterfly -r
git add themes/butterfly
git commit -m "é‡æ–°æ·»åŠ  Butterfly ä¸»é¢˜æ–‡ä»¶"
git push origin main
```



# å¸¸ç”¨å‘½ä»¤

------

## ğŸ§± ä¸€ã€ä»“åº“åˆå§‹åŒ– & åŸºç¡€æ“ä½œ

```bash
git init                      # åˆå§‹åŒ–æœ¬åœ° Git ä»“åº“
git clone <repo_url>         # å…‹éš†è¿œç¨‹ä»“åº“
git status                   # æŸ¥çœ‹å½“å‰çŠ¶æ€ï¼ˆæ”¹åŠ¨ã€æœªæäº¤ï¼‰
git add <file>               # å°†æ–‡ä»¶åŠ å…¥æš‚å­˜åŒºï¼ˆå¯ä»¥ . è¡¨ç¤ºå…¨éƒ¨ï¼‰
git commit -m "å¤‡æ³¨ä¿¡æ¯"     # æäº¤ä»£ç å¹¶æ·»åŠ è¯´æ˜
```

------

## ğŸŒ¿ äºŒã€åˆ†æ”¯æ“ä½œ

```bash
git branch                   # æŸ¥çœ‹æœ¬åœ°æ‰€æœ‰åˆ†æ”¯
git branch <branch-name>     # æ–°å»ºåˆ†æ”¯
git checkout <branch-name>   # åˆ‡æ¢åˆ°åˆ†æ”¯
git checkout -b <branch-name> # æ–°å»ºå¹¶åˆ‡æ¢
git merge <branch-name>      # åˆå¹¶æŸåˆ†æ”¯åˆ°å½“å‰åˆ†æ”¯
git branch -d <branch-name>  # åˆ é™¤æœ¬åœ°åˆ†æ”¯
```

------

## ğŸ” ä¸‰ã€è¿œç¨‹æ“ä½œ

```bash
git remote -v                                # æŸ¥çœ‹è¿œç¨‹ä»“åº“åœ°å€
git remote add origin <url>                  # æ·»åŠ è¿œç¨‹ä»“åº“åœ°å€
git push origin <branch>                     # æ¨é€å½“å‰åˆ†æ”¯åˆ°è¿œç¨‹ä»“åº“
git pull origin <branch>                     # æ‹‰å–è¿œç¨‹åˆ†æ”¯å¹¶åˆå¹¶
git fetch                                    # æ‹‰å–è¿œç¨‹æ‰€æœ‰æ›´æ–°ï¼ˆä¸åˆå¹¶ï¼‰
git push -u origin <branch>                  # é¦–æ¬¡æ¨é€å¹¶å…³è”åˆ†æ”¯
```

------

## ğŸ” å››ã€æŸ¥çœ‹å†å² & å·®å¼‚

```bash
git log                          # æŸ¥çœ‹æäº¤å†å²
git log --oneline --graph        # ç®€æ´çš„å›¾å½¢åŒ–æäº¤å†å²
git diff                         # æŸ¥çœ‹å·¥ä½œåŒºä¸æš‚å­˜åŒºå·®å¼‚
git diff <branch1> <branch2>     # æ¯”è¾ƒä¸¤ä¸ªåˆ†æ”¯å·®å¼‚
```

------

## ğŸ§¼ äº”ã€æ’¤é”€æ“ä½œï¼ˆå¸¸ç”¨æ•‘å‘½å‘½ä»¤ï¼‰

```bash
git checkout -- <file>           # æ’¤é”€å¯¹æŸæ–‡ä»¶çš„ä¿®æ”¹
git reset HEAD <file>            # å–æ¶ˆæš‚å­˜ï¼ˆæ’¤å› git addï¼‰
git reset --hard HEAD            # æ’¤é”€æ‰€æœ‰ä¿®æ”¹å¹¶æ¢å¤åˆ°æœ€åä¸€æ¬¡æäº¤çŠ¶æ€ â—å±é™©
git clean -fd                    # åˆ é™¤æ‰€æœ‰æœªè¿½è¸ªæ–‡ä»¶ï¼ˆæ…ç”¨ï¼‰
```

------

## ğŸ’¥ å…­ã€å†²çªè§£å†³

```bash
# å‡ºç°å†²çªæ—¶ï¼š
# 1. æ‰‹åŠ¨ä¿®æ”¹å†²çªæ–‡ä»¶
# 2. ç„¶åï¼š
git add <file>                   # æ ‡è®°å†²çªå·²è§£å†³
git commit                      # æäº¤åˆå¹¶åçš„ç»“æœ
```

------

## ğŸª„ ä¸ƒã€æ ‡ç­¾ï¼ˆæ‰“ç‰ˆæœ¬ï¼‰

```bash
git tag                          # æŸ¥çœ‹æ ‡ç­¾
git tag v1.0.0                   # åˆ›å»ºæ ‡ç­¾
git tag -d v1.0.0                # åˆ é™¤æ ‡ç­¾
git push origin v1.0.0           # æ¨é€æ ‡ç­¾
```

------

## ğŸ” å…«ã€é…ç½®å¸¸ç”¨ä¿¡æ¯

```bash
git config --global user.name "Neo"
git config --global user.email "neo@example.com"
git config --global core.editor "code --wait"  # è®¾ç½®é»˜è®¤ç¼–è¾‘å™¨ä¸º VSCode
```

------

## ğŸ§  Bonusï¼šæ¨è Git åˆ†æ”¯å‘½åè§„èŒƒï¼ˆå¯ç”¨äºå¤šäººåä½œï¼‰

| ç±»å‹            | ç¤ºä¾‹                     | ç”¨é€”       |
| --------------- | ------------------------ | ---------- |
| `feat/xxx`      | `feat/login-api`         | æ–°åŠŸèƒ½     |
| `fix/xxx`       | `fix/login-bug`          | ä¿®å¤ bug   |
| `hotfix/xxx`    | `hotfix/crash-on-launch` | ç´§æ€¥ä¿®å¤   |
| `test/xxx`      | `test/new-framework`     | å®éªŒæ€§åˆ†æ”¯ |
| `release/x.y.z` | `release/1.0.0`          | é¢„å‘ç‰ˆæœ¬   |
| `docs/xxx`      | `docs/api-readme`        | æ–‡æ¡£ä¿®æ”¹   |

------

# cherry pick

å˜¿å˜¿ Neoï¼Œé—®å¾—å¤ªå‡†äº†ï¼`cherry-pick` æ˜¯ Git ä¸­éå¸¸å®ç”¨ã€**ä½†åˆç¨å¾®é«˜çº§ä¸€ç‚¹çš„å‘½ä»¤**ï¼Œç”¨äºæŠŠ**æŸä¸ªæäº¤ï¼ˆcommitï¼‰ä»ä¸€ä¸ªåˆ†æ”¯â€œç²¾ç¡®å¤åˆ¶â€åˆ°å¦ä¸€ä¸ªåˆ†æ”¯**ã€‚

------

## ğŸ’ ä¸€ã€ä»€ä¹ˆæ˜¯ `git cherry-pick`ï¼Ÿ

`git cherry-pick` çš„ä½œç”¨æ˜¯ï¼š
ğŸ‘‰ **é€‰æ‹©ä¸€ä¸ªæˆ–å¤šä¸ªç‰¹å®šæäº¤ï¼ˆcommitï¼‰ï¼Œåº”ç”¨åˆ°å½“å‰åˆ†æ”¯ä¸Š**ï¼Œè€Œä¸æ˜¯æ•´ä¸ªåˆ†æ”¯çš„ mergeã€‚

éå¸¸é€‚ç”¨äºè¿™æ ·çš„åœºæ™¯ï¼š

ğŸ’¡â€œæˆ‘åœ¨ `dev` åˆ†æ”¯ä¿®äº†ä¸€ä¸ª bugï¼Œç°åœ¨æƒ³æŠŠè¿™ä¸ªä¿®å¤ä¹ŸåŒæ­¥åˆ° `release` åˆ†æ”¯ï¼Œä½†ä¸æƒ³æŠŠæ•´ä¸ª dev åˆ†æ”¯åˆå¹¶è¿‡æ¥ã€‚â€

------

## âœ… äºŒã€åŸºæœ¬è¯­æ³•

```bash
git cherry-pick <commit-id>
```

æ¯”å¦‚ï¼š

```bash
git checkout release
git cherry-pick a1b2c3d4
```

è¿™ä¼šæŠŠ `a1b2c3d4` è¿™ä¸ªæäº¤â€œå¤åˆ¶â€ä¸€ä»½åº”ç”¨åˆ° `release` åˆ†æ”¯ä¸Šã€‚

------

## ğŸ§© ä¸‰ã€è¿›é˜¶ç”¨æ³•

### 1. å¤šä¸ª commit ä¸€èµ· cherry-pickï¼š

```bash
git cherry-pick <commit1> <commit2> <commit3>
```

### 2. èŒƒå›´ cherry-pickï¼ˆä¸åŒ…å«èµ·å§‹ commitï¼‰ï¼š

```bash
git cherry-pick A^..C
```

æ„æ€æ˜¯ï¼šä» A çš„ä¸‹ä¸€ä¸ª commit åˆ° Cï¼ˆåŒ…æ‹¬ Cï¼‰

------

## âš”ï¸ å››ã€cherry-pick æ—¶å¯èƒ½é‡åˆ°å†²çªæ€ä¹ˆåŠï¼Ÿ

1. å¦‚æœå†²çªäº†ï¼ŒGit ä¼šæç¤ºä½ å†²çªæ–‡ä»¶
2. æ‰‹åŠ¨ä¿®æ”¹è¿™äº›æ–‡ä»¶ï¼Œè§£å†³å†²çª
3. ç„¶åæ‰§è¡Œï¼š

```bash
git add .
git cherry-pick --continue
```

1. å¦‚æœæƒ³æ”¾å¼ƒè¿™æ¬¡ cherry-pickï¼š

```bash
git cherry-pick --abort
```

------

## ğŸ’¡ äº”ã€å¸¸è§ä½¿ç”¨åœºæ™¯æ€»ç»“

| åœºæ™¯                                | æ˜¯å¦é€‚åˆ cherry-pick         |
| ----------------------------------- | ---------------------------- |
| ä» `dev` æ‹¿ä¸€ä¸ªä¿®å¤æäº¤åˆ° `release` | âœ… éå¸¸é€‚åˆ                   |
| æ‹¿å¤šä¸ªæäº¤è·¨åˆ†æ”¯è¿ç§»                | âœ… OKï¼Œä½†æ³¨æ„é¡ºåºå’Œå†²çª       |
| æƒ³åŒæ­¥æ•´ä¸ªåˆ†æ”¯                      | âŒ åº”è¯¥ç”¨ `merge` æˆ– `rebase` |
| åšçƒ­ä¿®å¤ patch                      | âœ… ç”¨ cherry-pick å¾ˆè‡ªç„¶      |

------

## ğŸ‘€ å…­ã€å¦‚ä½•æ‰¾ commit-idï¼Ÿ

æ‰§è¡Œï¼š

```bash
git log --oneline
```

æˆ–è€…ï¼š

```bash
git log --graph --oneline --all
```

å¯ä»¥çœ‹åˆ°æ‰€æœ‰æäº¤çš„ IDï¼ˆçŸ­å“ˆå¸Œï¼‰ï¼Œç„¶å cherry-pick ä½ éœ€è¦çš„é‚£ä¸ªã€‚

------

## âœ¨ ä¸ƒã€IDEA ä¸­å¦‚ä½• cherry-pickï¼Ÿ

1. æ‰“å¼€ `Git > Log`
2. å³é”®æŸä¸ªæäº¤ â†’ `Cherry-pick`
3. è‡ªåŠ¨åˆ‡æ¢åˆ°å½“å‰åˆ†æ”¯å¹¶æ‰§è¡Œ cherry-pick
4. æœ‰å†²çªçš„è¯ IDEA ä¼šæç¤ºä½ åˆå¹¶

------

## âœ… å°ç»“

| å‘½ä»¤                         | ä½œç”¨                     |
| ---------------------------- | ------------------------ |
| `git cherry-pick <commit>`   | æŠŠæŸä¸ªæäº¤å¤åˆ¶åˆ°å½“å‰åˆ†æ”¯ |
| `git cherry-pick --abort`    | å–æ¶ˆ cherry-pick æ“ä½œ    |
| `git cherry-pick --continue` | è§£å†³å†²çªåç»§ç»­æ“ä½œ       |

------

# ğŸ§  Git é«˜é˜¶å‘½ä»¤åˆé›†ï¼ˆæ¨èæ”¶è—ï¼‰

------

### 1ï¸âƒ£ `git rebase`ï¼ˆå˜åŸºï¼‰

âœ¨ è®©æäº¤å†å²æ›´å¹²å‡€ï¼Œçº¿æ€§åˆå¹¶åˆ†æ”¯

```bash
git checkout feature
git rebase main
```

æ„æ€æ˜¯ï¼šæŠŠ feature åˆ†æ”¯çš„æäº¤â€œæ¬åˆ°â€ main åˆ†æ”¯åé¢ã€‚

é…åˆäº¤äº’å¼ï¼š

```bash
git rebase -i HEAD~5   # äº¤äº’å¼ rebase æœ€è¿‘ 5 æ¬¡æäº¤
```

å¯åšï¼š

- åˆå¹¶å¤šä¸ªæäº¤ï¼ˆsquashï¼‰
- ä¿®æ”¹æäº¤è¯´æ˜ï¼ˆrewordï¼‰
- åˆ é™¤æäº¤ï¼ˆdropï¼‰
- æ”¹æäº¤é¡ºåº

------

### 2ï¸âƒ£ `git stash`ï¼ˆä¸´æ—¶ä¿å­˜å·¥ä½œåŒºï¼‰

ğŸ”§ å½“ä½ å·¥ä½œä¸€åŠï¼Œçªç„¶è¦åˆ‡åˆ†æ”¯å¤„ç† bugï¼Œä½†åˆä¸æƒ³æäº¤

```bash
git stash         # ä¿å­˜å½“å‰æ”¹åŠ¨
git stash list    # æŸ¥çœ‹æ‰€æœ‰ stash
git stash pop     # æ¢å¤æœ€è¿‘ä¸€æ¬¡ stash å¹¶åˆ é™¤
git stash apply   # æ¢å¤ä½†ä¸åˆ é™¤
```

------

### 3ï¸âƒ£ `git reflog`ï¼ˆGit çš„åæ‚”è¯ï¼‰

ğŸ§  è¯¯åˆ åˆ†æ”¯ã€è¯¯ reset åçš„æ•‘å‘½å‘½ä»¤ï¼

```bash
git reflog
```

- èƒ½çœ‹åˆ°æ‰€æœ‰ HEAD çš„ç§»åŠ¨è®°å½•
- ä¾‹å¦‚ï¼šä½ è¯¯åˆ äº†åˆ†æ”¯æˆ–é‡ç½®äº† HEADï¼Œå¯ä»¥æ‰¾å› commitï¼š

```bash
git reset --hard <æŸä¸ªæ—§çš„commit-id>
```

------

### 4ï¸âƒ£ `git reset`ï¼ˆå¼ºåŠ›æ’¤é”€ï¼‰

ğŸš¨ æ’¤é”€æäº¤ã€å›é€€ä»£ç ã€å›æ»šçŠ¶æ€

```bash
git reset --soft HEAD~1     # æ’¤é”€æœ€è¿‘ä¸€æ¬¡æäº¤ï¼ˆä¿ç•™ä»£ç ï¼‰
git reset --mixed HEAD~1    # æ’¤é”€æäº¤+å–æ¶ˆæš‚å­˜
git reset --hard HEAD~1     # æ’¤é”€æäº¤+å–æ¶ˆæš‚å­˜+è¿˜åŸä»£ç 
```

â— `--hard` æ˜¯æœ€å±é™©çš„ï¼Œåˆ«è½»æ˜“åŠ¨ï¼

------

### 5ï¸âƒ£ `git clean`ï¼ˆæ¸…ç†æœªè·Ÿè¸ªæ–‡ä»¶ï¼‰

ğŸ§¹ åˆ é™¤æ‰€æœ‰æ²¡è¢« Git è·Ÿè¸ªçš„æ–‡ä»¶ï¼Œæ¯”å¦‚ `.DS_Store`ã€ç¼“å­˜ç­‰

```bash
git clean -fd
```

å‚æ•°è¯´æ˜ï¼š

- `-f` force
- `-d` ç›®å½•ä¹Ÿåˆ 

------

### 6ï¸âƒ£ `git blame`ï¼ˆè°æ”¹çš„ï¼‰

ğŸ•µï¸ æŸ¥æŸä¸€è¡Œæ˜¯è°åœ¨ä»€ä¹ˆæ—¶å€™æäº¤çš„

```bash
git blame æ–‡ä»¶å
```

ä¹Ÿå¯ä»¥æŸ¥æŸä¸€è¡Œï¼š

```bash
git blame -L 15,25 æ–‡ä»¶å   # æŸ¥ç¬¬15åˆ°25è¡Œ
```

------

### 7ï¸âƒ£ `git bisect`ï¼ˆäºŒåˆ†å®šä½ bugï¼‰

ğŸª“ è‡ªåŠ¨å¸®ä½ åœ¨ä¸€å †æäº¤ä¸­å®šä½æ˜¯å“ªæ¬¡æäº¤å¼•å…¥äº† bug

```bash
git bisect start
git bisect bad              # å½“å‰æ˜¯æœ‰ bug çš„ç‰ˆæœ¬
git bisect good v1.0.0      # v1.0.0 æ˜¯æ­£å¸¸çš„ç‰ˆæœ¬
```

ä¹‹å Git ä¼šä¸€æ­¥æ­¥äºŒåˆ†ä½ å†å²çš„æäº¤ï¼Œè®©ä½ åˆ¤æ–­å“ªä¸ªæ˜¯å¥½å“ªä¸ªæ˜¯åï¼Œç›´åˆ°å®šä½åˆ°â€œåæäº¤â€ã€‚

------

### 8ï¸âƒ£ `git log` é«˜çº§ç©æ³•ï¼ˆæ ¼å¼åŒ–å†å²ï¼‰

```bash
git log --oneline --graph --decorate --all
```

ğŸŒ³ æŸ¥çœ‹å®Œæ•´åˆ†æ”¯å›¾ï¼Œéå¸¸æ¸…æ™°ç›´è§‚ï¼š

```plain
* a1b2c3 (HEAD -> feature)
| * d4e5f6 (main)
|/
* 123abc
```

------

### 9ï¸âƒ£ `git commit --amend`ï¼ˆä¿®æ”¹ä¸Šä¸€æ¬¡æäº¤ï¼‰

```bash
git commit --amend
```

- ä¿®æ”¹æäº¤è¯´æ˜
- æˆ–è€…è¡¥åŠ æ–‡ä»¶ï¼ˆæ¼äº†ä¸ªæ–‡ä»¶ï¼‰

------

### ğŸ”Ÿ `git remote prune origin`ï¼ˆæ¸…ç†æ— æ•ˆè¿œç¨‹åˆ†æ”¯ï¼‰

ğŸ”ª åˆ é™¤é‚£äº›è¿œç¨‹å·²ç»åˆ äº†ä½†æœ¬åœ°è¿˜çœ‹çš„è§çš„â€œæ®‹å½±åˆ†æ”¯â€

```bash
git remote prune origin
```

------

## ğŸš€ Bonusï¼šåˆ«å¿˜äº† Git çš„å‘½ä»¤å¯ä»¥ç»„åˆï¼

ä¾‹å¦‚ï¼š

```bash
git log --author=neo --since="1 week ago" --oneline
```

çœ‹ä¸€å‘¨å†… Neo æäº¤äº†ä»€ä¹ˆ ğŸ‘€

------



Neoï¼Œè¿™ä¸ªé—®é¢˜é—®å¾—éå¸¸åˆ°ä½ï¼Œ`.gitignore` çš„è¡Œä¸ºæœ‰ç‚¹â€œå¥—è·¯â€ï¼Œå’±æ¥ç»™ä½ å½»åº•è®²é€ ğŸ‘‡

------

# ğŸ˜µ ä¸ºä»€ä¹ˆ `.DS_Store` å·²ç»å†™è¿› `.gitignore` äº†ï¼Œ`git status` é‡Œè¿˜æ˜¯æœ‰ï¼Ÿ

------

### âœ… æ‰€ä»¥æœ‰ä¸¤ç§æƒ…å†µä½ å¾—åˆ†æ¸…æ¥šï¼š

| æƒ…å†µ                                           | ä¼šä¸ä¼šè¢«å¿½ç•¥ï¼Ÿ                |
| ---------------------------------------------- | ----------------------------- |
| æ–‡ä»¶è¿˜æ²¡è¢« Git è·Ÿè¸ªè¿‡                          | âœ… ä¼šå¿½ç•¥ï¼ˆgit status ä¸æ˜¾ç¤ºï¼‰ |
| æ–‡ä»¶ **å·²ç»è¢« Git è·Ÿè¸ªè¿‡ï¼ˆadd æˆ– commit è¿‡ï¼‰** | âŒ ä¸ä¼šå¿½ç•¥ï¼Œå¿…é¡»æ‰‹åŠ¨ç§»é™¤ï¼    |

------

## ğŸ” åˆ¤æ–­ `.DS_Store` æ˜¯å¦å·²ç»è¢« Git è·Ÿè¸ªï¼š

```bash
git ls-files | grep .DS_Store
```

å¦‚æœè¾“å‡ºæœ‰ `.DS_Store`ï¼Œè¯´æ˜å®ƒ**å·²ç»è¢« Git åŠ è¿›ç‰ˆæœ¬åº“**ï¼Œå°±ç®—ä½  `.gitignore` äº†ä¹Ÿæ²¡ç”¨ã€‚

------

## âœ… è§£å†³æ–¹æ¡ˆï¼šä» Git è·Ÿè¸ªä¸­ç§»é™¤ `.DS_Store`

è¿™ä¸€æ­¥å¯ä»¥â€œæ¸…æ´—å¹²å‡€â€æ—§çš„ `.DS_Store`ï¼š

```bash
# ä» Git ç´¢å¼•ä¸­ç§»é™¤ï¼Œä½†ä¿ç•™æ–‡ä»¶æœ¬èº«ï¼ˆä¸åˆ é™¤ç£ç›˜æ–‡ä»¶ï¼‰
git rm -r --cached .DS_Store
```

å¦‚æœä½ é¡¹ç›®ä¸­å¾ˆå¤šåœ°æ–¹æœ‰ `.DS_Store`ï¼Œå¯ä»¥è¿™ä¹ˆæ¥ï¼š

```bash
find . -name .DS_Store -print0 | xargs -0 git rm --cached
```

ç„¶åï¼š

```bash
git commit -m "chore: remove tracked .DS_Store files"
```

**ä¹‹åå°±ä¸ä¼šå†å‡ºç°åœ¨ git status äº†ï¼**

------

## âœ… æœ€ç»ˆä½ éœ€è¦è¿™ä¸¤ä»¶äº‹é…å¥—å®Œæˆï¼š

### 1. `.gitignore` æ–‡ä»¶ä¸­å†™ï¼š

```plain
.DS_Store
**/.DS_Store
```

### 2. æ‰‹åŠ¨ç§»é™¤å·²è·Ÿè¸ªçš„ `.DS_Store`ï¼š

```bash
git rm -r --cached .DS_Store
git commit -m "remove .DS_Store from repo"
```

------

# æœ‰ä¸åŒçš„åˆ†æ”¯ï¼Œéœ€è¦æŒ‡å®šå¦‚ä½•è°ƒå’Œå®ƒä»¬

ä»¥ä¸‹æŠ¥é”™è§£å†³æ–¹æ¡ˆ

```plain
hint: You have divergent branches and need to specify how to reconcile them.
hint: You can do so by running one of the following commands sometime before
hint: your next pull:
hint: 
hint:   git config pull.rebase false  # merge
hint:   git config pull.rebase true   # rebase
hint:   git config pull.ff only       # fast-forward only
hint: 
hint: You can replace "git config" with "git config --global" to set a default
hint: preference for all repositories. You can also pass --rebase, --no-rebase,
hint: or --ff-only on the command line to override the configured default per
hint: invocation.
fatal: Need to specify how to reconcile divergent branches.
```

## ğŸ§¼ æœ€åå»ºè®®ï¼šä¹Ÿåˆ«è®©ä»¥åç”Ÿæˆ `.DS_Store`

ä½ å¯ä»¥åŠ ä¸€ä¸ªå…¨å±€ `.gitignore`ï¼Œè®©æ‰€æœ‰ Git é¡¹ç›®éƒ½å¿½ç•¥å®ƒï¼š

```bash
git config --global core.excludesfile ~/.gitignore_global
echo ".DS_Store" >> ~/.gitignore_global
```

------



## âœ… è§£å†³æ–¹æ¡ˆä¸€ï¼šè‡ªåŠ¨åˆå¹¶ï¼ˆæ¨èï¼Œé€‚åˆå¤§å¤šæ•°æƒ…å†µï¼‰

ä½ å¯ä»¥è®¾ç½®é»˜è®¤çš„ pull ç­–ç•¥ä¸º **merge**ï¼ˆåˆå¹¶ï¼‰ï¼š

```bash
git config pull.rebase false   # å½“å‰é¡¹ç›®è®¾ç½®ä¸º merge
# æˆ–å…¨å±€è®¾ç½®ï¼š
git config --global pull.rebase false
```

ç„¶åé‡æ–°æ‰§è¡Œï¼š

```bash
git pull
```

Git ä¼šå¸®ä½ åˆå¹¶è¿œç¨‹åˆ†æ”¯å’Œä½ çš„æœ¬åœ°åˆ†æ”¯ï¼Œç„¶åä½ å°±èƒ½æ­£å¸¸ push äº†ï¼š

```bash
git push origin master
```

------

## âœ… è§£å†³æ–¹æ¡ˆäºŒï¼šä½¿ç”¨ `rebase`ï¼ˆæ›´æ¸…çˆ½çš„æäº¤å†å²ï¼‰

ä½ ä¹Ÿå¯ä»¥é€‰æ‹©ç”¨ `rebase`ï¼Œæ„æ€æ˜¯â€œæŠŠä½ çš„æäº¤æ”¾åœ¨è¿œç¨‹çš„æäº¤åé¢â€ã€‚

```bash
git config pull.rebase true
git pull
git push origin master
```

âœ… æäº¤å†å²æ›´çº¿æ€§ï¼Œæ²¡æœ‰å¤šä½™çš„ merge commit
â— å¦‚æœä»£ç å†²çªï¼Œæ‰‹åŠ¨è§£å†³åè¦ `git rebase --continue`

------

## âœ… è§£å†³æ–¹æ¡ˆä¸‰ï¼šå¼ºæ¨ï¼ˆä¸å»ºè®®ï¼Œé™¤éä½ çŸ¥é“ä½ åœ¨å¹²å•¥ï¼‰

```bash
git push origin master --force
```

ğŸš¨ è¿™ä¼šæŠŠè¿œç¨‹çš„å†å² **å¼ºåˆ¶æ›¿æ¢æˆä½ æœ¬åœ°çš„ç‰ˆæœ¬**ï¼Œå¯èƒ½ä¼šè¦†ç›–åˆ«äººæäº¤çš„å†…å®¹ã€‚ä»…é€‚ç”¨äºä½ è‡ªå·±å®Œå…¨æ§åˆ¶çš„åˆ†æ”¯ï¼

------

## ğŸ§  å°çŸ¥è¯†ï¼šä¸ºä»€ä¹ˆä¼š divergentï¼Ÿ

Divergent branches æ„æ€æ˜¯ï¼š

- ä½ æœ¬åœ°æœ‰æäº¤
- è¿œç¨‹ä¹Ÿæœ‰æäº¤
- ä¸¤è¾¹æäº¤å†å²ä¸ä¸€è‡´ï¼ŒGit ä¸çŸ¥é“è¯¥æ€ä¹ˆåˆå¹¶

------

## ğŸ’¡ ä½ ç°åœ¨è¯¥æ€ä¹ˆåšï¼Ÿ

1. **æ¨èåšæ³•ï¼šåˆå¹¶å¼ pull â†’ push**

```bash
git config pull.rebase false
git pull
git push origin master
```

1. **å¦‚æœå–œæ¬¢æ›´å¹²å‡€çš„å†å²ï¼ˆé«˜çº§ç©å®¶ï¼‰ï¼šrebase åå† push**

```bash
git config pull.rebase true
git pull
git push origin master
```

------

## âœ… æœ€åæ¨èï¼ˆå…¨å±€è®¾ç½®ä¸€åŠ³æ°¸é€¸ï¼‰

```bash
git config --global pull.rebase false   # é»˜è®¤ç”¨ merge æ¨¡å¼
```





å¤ªæ£’å•¦ Neoï¼æ—¢ç„¶ä½ éƒ½æå‡ºäº†è¿™ä¸ªéœ€æ±‚ï¼Œé‚£æˆ‘å°±ç›´æ¥ç»™ä½ æ•´ä¸€ä»½å¹²å‡€åˆ©è½çš„ ğŸ¯**Git é«˜çº§å‘½ä»¤å®æˆ˜è®­ç»ƒè¥æ¸…å•**ï¼ŒåŒ…å«ï¼š

- åœºæ™¯è®¾å®š âœ…
- å‘½ä»¤ç›®æ ‡ âœ…
- ç»ƒæ‰‹ä»»åŠ¡ âœ…
- é™„å¸¦æ³¨æ„äº‹é¡¹ âœ…

------

# ğŸš€ åœºæ™¯å®æˆ˜

------

## 1ï¸âƒ£ åœºæ™¯ï¼š**åˆå¹¶å†²çªåæ’¤é”€æ“ä½œ**

ğŸ’¥ ä½ æ‰§è¡Œäº† `git merge feature`ï¼Œç»“æœä¸€å †æ–‡ä»¶å†²çªï¼Œè¿˜æ²¡å¼€å§‹æ”¹å°±åæ‚”äº†â€¦â€¦

### ğŸ¯ ç›®æ ‡ï¼š

- æ’¤é”€ merge æ“ä½œ
- å›åˆ°åˆå¹¶ä¹‹å‰çš„çŠ¶æ€

### ğŸ›  æ“ä½œï¼š

```bash
git merge feature         # æ¨¡æ‹Ÿåˆå¹¶äº§ç”Ÿå†²çª
git merge --abort         # ğŸ§¨ ç«‹åˆ»æ’¤é”€åˆå¹¶ï¼Œå›åˆ°ä¹‹å‰çŠ¶æ€
```

### ğŸ“Œ æ³¨æ„äº‹é¡¹ï¼š

- åªé€‚ç”¨äº**è¿˜æ²¡è§£å†³å†²çªå‰**çš„æ’¤é”€
- å¦‚æœä½ å·²ç»è§£å†³äº†ä¸€éƒ¨åˆ†å†²çªï¼Œè¦ç”¨ï¼š

```bash
git reset --hard HEAD
```

------

## 2ï¸âƒ£ åœºæ™¯ï¼š**æ‰¾å›è¯¯åˆ åˆ†æ”¯æˆ–å›æ»šç‰ˆæœ¬**

ğŸ˜­ æ‰‹æ»‘ `git branch -D bugfix-xxx`ï¼Œç°åœ¨æƒ³è¦æ‰¾å›

### ğŸ¯ ç›®æ ‡ï¼š

- æ‰¾å›ä½ åˆ æ‰çš„åˆ†æ”¯æˆ–è¯¯æ“ä½œçš„æäº¤

### ğŸ›  æ“ä½œï¼š

```bash
git reflog                # æ‰¾åˆ°åˆ†æ”¯æœ€åçš„ commit å“ˆå¸Œ
git checkout -b bugfix-xxx <commit-id>
```

ç¤ºä¾‹ï¼š

```plain
git checkout -b bugfix-xxx d4f2a7c
```

### ğŸ“Œ å°è´´å£«ï¼š

- `git reflog` æ˜¯ Git çš„é»‘åŒ£å­ï¼Œå•¥éƒ½èƒ½æ‰¾å›æ¥ï¼ˆåªè¦è¿˜æ²¡ gcï¼‰

------

## 3ï¸âƒ£ åœºæ™¯ï¼š**å¤šäººåä½œå¼€å‘æ—¶åŒæ­¥ä¸»åˆ†æ”¯å¹¶ rebase æäº¤**

ğŸ§‘â€ğŸ¤â€ğŸ§‘ ä½ åœ¨ `feature-xxx` ä¸Šå¼€å‘ï¼Œç»“æœ `main` åˆ†æ”¯æ›´æ–°äº†ï¼Œæƒ³ä¿æŒå†å²å¹²å‡€å°±ä¸èƒ½ç›´æ¥ merge

### ğŸ¯ ç›®æ ‡ï¼š

- æŠŠä¸»åˆ†æ”¯çš„æœ€æ–°æäº¤åˆå¹¶è¿›ä½ çš„åŠŸèƒ½åˆ†æ”¯
- ä½¿ç”¨ `rebase` è€Œä¸æ˜¯ `merge`

### ğŸ›  æ“ä½œï¼š

```bash
git checkout feature-xxx
git fetch origin
git rebase origin/main
```

å¦‚æœæœ‰å†²çªï¼š

```bash
# è§£å†³å†²çªåï¼š
git add .
git rebase --continue
```

### ğŸ“Œ æ³¨æ„äº‹é¡¹ï¼š

- ä¸è¦åœ¨å…¬å…±åˆ†æ”¯ rebaseï¼ˆä¼šè®©åˆ«äºº history æ··ä¹±ï¼‰
- rebase æ˜¯è®©æäº¤æ›´â€œåƒä¸€æ¡ç›´çº¿â€ï¼Œä½†æ“ä½œå‰å»ºè®®å¤‡ä»½ä¸€ä»½åˆ†æ”¯

------

## 4ï¸âƒ£ åœºæ™¯ï¼š**Cherry-pick çƒ­ä¿®å¤ commit åˆ°å¤šä¸ªåˆ†æ”¯**

ğŸš¨ çº¿ä¸Šç”Ÿäº§å‡ºäº†é—®é¢˜ï¼Œä½ åœ¨ `hotfix/fix-404` åˆ†æ”¯ä¿®å¥½äº†ï¼Œç°åœ¨è¦æŠŠè¿™ä¸ª bugfix æäº¤åŒæ­¥åˆ° `main` å’Œ `release/1.0`

### ğŸ¯ ç›®æ ‡ï¼š

- ç²¾ç¡®å¤åˆ¶æŸä¸ªæäº¤åˆ°å…¶ä»–åˆ†æ”¯

### ğŸ›  æ“ä½œï¼š

```bash
git log --oneline             # æ‰¾åˆ°é‚£ä¸ª fix çš„ commit id
git checkout main
git cherry-pick <commit-id>
git checkout release/1.0
git cherry-pick <commit-id>
```

------

## 5ï¸âƒ£ åœºæ™¯ï¼š**å¤šä¸ªå° commit æ‰“æˆä¸€ä¸ªï¼Œå‡†å¤‡å‘ PR**

âœ… ä½ åœ¨å¼€å‘ä¸­æäº¤äº† 5 ä¸ªå°ç¢æäº¤ï¼Œç°åœ¨å‡†å¤‡å‘ PRï¼Œæƒ³å‹ç¼©æˆä¸€ä¸ªæ¼‚äº®çš„ commit

### ğŸ¯ ç›®æ ‡ï¼š

- squash å‹ç¼©å¤šä¸ª commit
- ç¾åŒ–æäº¤å†å²

### ğŸ›  æ“ä½œï¼š

```bash
git log --oneline            # çœ‹ä½ è¦å‹ç¼©å‡ ä¸ª
git rebase -i HEAD~5         # äº¤äº’å¼ rebase æœ€è¿‘5ä¸ªæäº¤
```

ç„¶ååœ¨ç¼–è¾‘ç•Œé¢ï¼š

```plain
pick  123abc  åˆå§‹æäº¤
squash 456def  ä¿®å¤ typo
squash 789aaa  å¢åŠ æ ¡éªŒ
squash abc999  é‡æ„å‡½æ•°
squash xyz333  ä¿®æ”¹æ³¨é‡Š
```

ä¿å­˜åè¾“å…¥æ–°çš„ commit messageï¼Œæ¯”å¦‚ï¼š

```plain
feat: å®Œå–„ç™»å½•åŠŸèƒ½ & ä»£ç ä¼˜åŒ–
```

ç„¶åï¼š

```bash
git push -f origin feature/login
```

æ³¨æ„ï¼šä½ æ”¹äº†å†å²ï¼Œéœ€è¦ç”¨ `-f` å¼ºæ¨ âš ï¸

------

## âœ… é€ŸæŸ¥è¡¨ï¼š

| åœºæ™¯                   | å…³é”®å‘½ä»¤                         |
| ---------------------- | -------------------------------- |
| æ’¤é”€å†²çªåˆå¹¶           | `git merge --abort`              |
| æ‰¾å›è¯¯åˆ åˆ†æ”¯           | `git reflog` + `git checkout -b` |
| åŒæ­¥ä¸»åˆ†æ”¯ + Rebase    | `git rebase origin/main`         |
| ç²¾ç¡®å¤åˆ¶ä¿®å¤ commit    | `git cherry-pick <id>`           |
| å¤šä¸ªæäº¤å‹ç¼©æˆä¸€ä¸ªæäº¤ | `git rebase -i HEAD~N`           |